(()=>{var e={};e.id=938,e.ids=[938],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},3510:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(9245),r(4625),r(5649),r(5866);var s=r(3191),a=r(8716),n=r(7922),i=r.n(n),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9245)),"/workspaces/podcast-summarizer/src/app/settings/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,4625)),"/workspaces/podcast-summarizer/src/app/settings/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5649)),"/workspaces/podcast-summarizer/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/workspaces/podcast-summarizer/src/app/settings/page.tsx"],u="/settings/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3620:(e,t,r)=>{Promise.resolve().then(r.bind(r,9171)),Promise.resolve().then(r.bind(r,3825)),Promise.resolve().then(r.bind(r,2636)),Promise.resolve().then(r.bind(r,5120)),Promise.resolve().then(r.bind(r,8062))},3825:(e,t,r)=>{"use strict";r.d(t,{DangerZone:()=>eg});var s=r(326),a=r(7577),n=r(9701),i=r(9752),l=r(1664),o=r(2561),d=r(8051),c=r(8957),u=r(2067),m=r(9827),p=r(9223),f=r(5276),x=r(9815);function h(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(a.isValidElement(r)){let e,n;let i=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,l=function(e,t){let r={...t};for(let s in t){let a=e[s],n=t[s];/^on[A-Z]/.test(s)?a&&n?r[s]=(...e)=>{let t=n(...e);return a(...e),t}:a&&(r[s]=a):"style"===s?r[s]={...a,...n}:"className"===s&&(r[s]=[a,n].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==a.Fragment&&(l.ref=t?(0,d.F)(t,i):i),a.cloneElement(r,l)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...i}=e,l=a.Children.toArray(n),o=l.find(y);if(o){let e=o.props.children,n=l.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...i,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,s.jsx)(t,{...i,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}r(962);var g=Symbol("radix.slottable");function y(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===g}var j=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=h(`Primitive.${t}`),n=a.forwardRef((e,a)=>{let{asChild:n,...i}=e,l=n?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(l,{...i,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),b=r(699),v=r(5011),N=r(5664),w="Dialog",[D,C]=function(e,t=[]){let r=[],n=()=>{let t=r.map(e=>a.createContext(e));return function(r){let s=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return n.scopeName=e,[function(t,n){let i=a.createContext(n),l=r.length;r=[...r,n];let o=t=>{let{scope:r,children:n,...o}=t,d=r?.[e]?.[l]||i,c=a.useMemo(()=>o,Object.values(o));return(0,s.jsx)(d.Provider,{value:c,children:n})};return o.displayName=t+"Provider",[o,function(r,s){let o=s?.[e]?.[l]||i,d=a.useContext(o);if(d)return d;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(n,...t)]}(w),[k,_]=D(w),E=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:l,modal:o=!0}=e,d=a.useRef(null),m=a.useRef(null),[p,f]=(0,u.T)({prop:n,defaultProp:i??!1,onChange:l,caller:w});return(0,s.jsx)(k,{scope:t,triggerRef:d,contentRef:m,contentId:(0,c.M)(),titleId:(0,c.M)(),descriptionId:(0,c.M)(),open:p,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(e=>!e),[f]),modal:o,children:r})};E.displayName=w;var P="DialogTrigger",O=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=_(P,r),i=(0,d.e)(t,n.triggerRef);return(0,s.jsx)(j.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":K(n.open),...a,ref:i,onClick:(0,o.Mj)(e.onClick,n.onOpenToggle)})});O.displayName=P;var S="DialogPortal",[F,R]=D(S,{forceMount:void 0}),M=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:i}=e,l=_(S,t);return(0,s.jsx)(F,{scope:t,forceMount:r,children:a.Children.map(n,e=>(0,s.jsx)(x.z,{present:r||l.open,children:(0,s.jsx)(f.h,{asChild:!0,container:i,children:e})}))})};M.displayName=S;var A="DialogOverlay",T=a.forwardRef((e,t)=>{let r=R(A,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,i=_(A,e.__scopeDialog);return i.modal?(0,s.jsx)(x.z,{present:a||i.open,children:(0,s.jsx)(z,{...n,ref:t})}):null});T.displayName=A;var I=h("DialogOverlay.RemoveScroll"),z=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=_(A,r);return(0,s.jsx)(v.Z,{as:I,allowPinchZoom:!0,shards:[n.contentRef],children:(0,s.jsx)(j.div,{"data-state":K(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Z="DialogContent",U=a.forwardRef((e,t)=>{let r=R(Z,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,i=_(Z,e.__scopeDialog);return(0,s.jsx)(x.z,{present:a||i.open,children:i.modal?(0,s.jsx)($,{...n,ref:t}):(0,s.jsx)(q,{...n,ref:t})})});U.displayName=Z;var $=a.forwardRef((e,t)=>{let r=_(Z,e.__scopeDialog),n=a.useRef(null),i=(0,d.e)(t,r.contentRef,n);return a.useEffect(()=>{let e=n.current;if(e)return(0,N.Ry)(e)},[]),(0,s.jsx)(L,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.Mj)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,o.Mj)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,o.Mj)(e.onFocusOutside,e=>e.preventDefault())})}),q=a.forwardRef((e,t)=>{let r=_(Z,e.__scopeDialog),n=a.useRef(!1),i=a.useRef(!1);return(0,s.jsx)(L,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let s=t.target;r.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),L=a.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:l,...o}=e,c=_(Z,r),u=a.useRef(null),f=(0,d.e)(t,u);return(0,b.EW)(),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.M,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:l,children:(0,s.jsx)(m.XB,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":K(c.open),...o,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ee,{titleId:c.titleId}),(0,s.jsx)(et,{contentRef:u,descriptionId:c.descriptionId})]})]})}),G="DialogTitle",B=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=_(G,r);return(0,s.jsx)(j.h2,{id:n.titleId,...a,ref:t})});B.displayName=G;var W="DialogDescription",V=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=_(W,r);return(0,s.jsx)(j.p,{id:n.descriptionId,...a,ref:t})});V.displayName=W;var Y="DialogClose",H=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=_(Y,r);return(0,s.jsx)(j.button,{type:"button",...a,ref:t,onClick:(0,o.Mj)(e.onClick,()=>n.onOpenChange(!1))})});function K(e){return e?"open":"closed"}H.displayName=Y;var X="DialogTitleWarning",[Q,J]=function(e,t){let r=a.createContext(t),n=e=>{let{children:t,...n}=e,i=a.useMemo(()=>n,Object.values(n));return(0,s.jsx)(r.Provider,{value:i,children:t})};return n.displayName=e+"Provider",[n,function(s){let n=a.useContext(r);if(n)return n;if(void 0!==t)return t;throw Error(`\`${s}\` must be used within \`${e}\``)}]}(X,{contentName:Z,titleName:G,docsSlug:"dialog"}),ee=({titleId:e})=>{let t=J(X),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&!document.getElementById(e)&&console.error(r)},[r,e]),null},et=({contentRef:e,descriptionId:t})=>{let r=J("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return a.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&!document.getElementById(t)&&console.warn(s)},[s,e,t]),null},er=r(4019),es=r(1223);let ea=a.forwardRef(({className:e,...t},r)=>s.jsx(T,{ref:r,className:(0,es.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ea.displayName=T.displayName;let en=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(M,{children:[s.jsx(ea,{}),(0,s.jsxs)(U,{ref:a,className:(0,es.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,(0,s.jsxs)(H,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(er.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));en.displayName=U.displayName;let ei=({className:e,...t})=>s.jsx("div",{className:(0,es.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ei.displayName="DialogHeader";let el=({className:e,...t})=>s.jsx("div",{className:(0,es.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});el.displayName="DialogFooter";let eo=a.forwardRef(({className:e,...t},r)=>s.jsx(B,{ref:r,className:(0,es.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));eo.displayName=B.displayName;let ed=a.forwardRef(({className:e,...t},r)=>s.jsx(V,{ref:r,className:(0,es.cn)("text-sm text-muted-foreground",e),...t}));ed.displayName=V.displayName;var ec=r(1190),eu=r(7299);let em=(0,r(2881).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var ep=r(2102),ef=r(7506),ex=r(5999),eh=r(5047);function eg(){let[e,t]=(0,a.useState)(!1),[r,o]=(0,a.useState)(""),[d,c]=(0,a.useState)(!1);(0,eh.useRouter)();let u=async()=>{if("DELETE"!==r){ex.Am.error("Please type DELETE to confirm");return}c(!0);let e=(0,n.e)(),{error:t}=await e.auth.signOut();if(t){ex.Am.error("Failed to delete account"),c(!1);return}ex.Am.success("Account deleted"),window.location.href="/"};return(0,s.jsxs)(i.Zb,{className:"matte-card border-destructive/20",children:[s.jsx(i.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-destructive/10 flex items-center justify-center",children:s.jsx(em,{className:"w-5 h-5 text-destructive"})}),(0,s.jsxs)("div",{children:[s.jsx(i.ll,{className:"text-lg font-display text-destructive",children:"Danger Zone"}),s.jsx(i.SZ,{children:"Irreversible actions"})]})]})}),s.jsx(i.aY,{className:"space-y-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl border border-destructive/30 bg-destructive/5",children:[(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-display font-medium",children:"Delete Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account and all data"})]}),(0,s.jsxs)(E,{open:e,onOpenChange:t,children:[s.jsx(O,{asChild:!0,children:(0,s.jsxs)(l.z,{variant:"destructive",className:"rounded-xl font-display",children:[s.jsx(ep.Z,{className:"w-4 h-4 mr-2"}),"Delete"]})}),(0,s.jsxs)(en,{className:"rounded-2xl",children:[(0,s.jsxs)(ei,{children:[s.jsx(eo,{className:"font-display",children:"Delete your account?"}),s.jsx(ed,{children:"This action cannot be undone. All your episodes, queue items, and settings will be permanently deleted."})]}),(0,s.jsxs)("div",{className:"space-y-2 py-4",children:[(0,s.jsxs)(eu._,{htmlFor:"confirm",className:"font-display",children:["Type ",s.jsx("strong",{children:"DELETE"})," to confirm"]}),s.jsx(ec.I,{id:"confirm",value:r,onChange:e=>o(e.target.value),placeholder:"DELETE",className:"rounded-xl"})]}),(0,s.jsxs)(el,{children:[s.jsx(l.z,{variant:"outline",onClick:()=>{t(!1),o("")},className:"rounded-xl font-display",children:"Cancel"}),(0,s.jsxs)(l.z,{variant:"destructive",onClick:u,disabled:d||"DELETE"!==r,className:"rounded-xl font-display",children:[d&&s.jsx(ef.Z,{className:"w-4 h-4 animate-spin mr-2"}),"Delete Account"]})]})]})]})]})})]})}},2636:(e,t,r)=>{"use strict";r.d(t,{ProfileForm:()=>p});var s=r(326),a=r(7577),n=r(9701),i=r(1664),l=r(1190),o=r(7299),d=r(8443);let c=(0,r(2881).Z)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var u=r(7506),m=r(2933);function p({email:e,firstName:t,lastName:r,memberSince:p,plan:f,includeInternational:x=!1}){let[h,g]=(0,a.useState)(t),[y,j]=(0,a.useState)(r),[b,v]=(0,a.useState)(x),[N,w]=(0,a.useState)(!1),[D,C]=(0,a.useState)(!1),k=h!==t||y!==r||b!==x,_=async()=>{w(!0),C(!1);try{let e=(0,n.e)(),{data:{user:t}}=await e.auth.getUser();if(!t)return;let{error:r}=await e.from("users").update({first_name:h.trim()||null,last_name:y.trim()||null,include_international:b}).eq("id",t.id);if(r)throw r;C(!0),setTimeout(()=>C(!1),2e3)}catch(e){console.error("Failed to save profile:",e)}finally{w(!1)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(o._,{htmlFor:"firstName",className:"font-display",children:"First Name"}),s.jsx(l.I,{id:"firstName",placeholder:"Your first name",value:h,onChange:e=>g(e.target.value),className:"h-11"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for your personalized podcast greeting"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(o._,{htmlFor:"lastName",className:"font-display",children:"Last Name"}),s.jsx(l.I,{id:"lastName",placeholder:"Your last name",value:y,onChange:e=>j(e.target.value),className:"h-11"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl bg-secondary/50 border border-border/50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-card border border-brass/20 flex items-center justify-center",children:s.jsx(c,{className:"w-5 h-5 text-sand"})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-display font-medium",children:"International Sources"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Include news from US, UK, Germany, Spain, Italy"})]})]}),s.jsx("button",{type:"button",onClick:()=>v(!b),className:`relative w-12 h-6 rounded-full transition-colors ${b?"bg-charcoal dark:bg-cream":"bg-muted"}`,children:s.jsx("span",{className:`absolute top-1 w-4 h-4 rounded-full transition-transform ${b?"left-7 bg-cream dark:bg-charcoal":"left-1 bg-white dark:bg-gray-400"}`})})]}),b&&s.jsx("div",{className:"flex flex-wrap gap-2 px-1",children:["\uD83C\uDDEB\uD83C\uDDF7 France","\uD83C\uDDFA\uD83C\uDDF8 USA","\uD83C\uDDEC\uD83C\uDDE7 UK","\uD83C\uDDE9\uD83C\uDDEA Germany","\uD83C\uDDEA\uD83C\uDDF8 Spain","\uD83C\uDDEE\uD83C\uDDF9 Italy"].map(e=>s.jsx(d.C,{variant:"secondary",className:"text-xs font-display",children:e},e))}),k&&s.jsx(i.z,{onClick:_,disabled:N,className:"w-full h-11 btn-generate",children:N?(0,s.jsxs)(s.Fragment,{children:[s.jsx(u.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):D?(0,s.jsxs)(s.Fragment,{children:[s.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"Saved!"]}):"Save Changes"}),(0,s.jsxs)("div",{className:"pt-4 border-t space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("span",{className:"text-sm font-medium font-mono",children:e})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Plan"}),s.jsx(d.C,{variant:"secondary",className:"capitalize font-display",children:f})]}),p&&(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Member since"}),s.jsx("span",{className:"text-sm font-display font-medium",children:new Date(p).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]})]})}},5120:(e,t,r)=>{"use strict";r.d(t,{TopicPicker:()=>p});var s=r(326),a=r(7577),n=r(9701),i=r(2881);let l=(0,i.Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var o=r(2933);let d=(0,i.Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var c=r(5999),u=r(5047);!function(){var e=Error("Cannot find module 'framer-motion'");throw e.code="MODULE_NOT_FOUND",e}();let m=[{id:"tech",name:"Tech",icon:"\uD83E\uDD16",topics:[{id:"ia",label:"IA & LLM",keywords:["IA","LLM","ChatGPT","OpenAI","Claude","GPT"]},{id:"quantum",label:"Quantum Computing",keywords:["quantique","quantum","qubits","IBM Quantum"]},{id:"robotics",label:"Robotique",keywords:["robotique","robots","Tesla Bot","Boston Dynamics"]}]},{id:"world",name:"Monde",icon:"\uD83C\uDF0D",topics:[{id:"asia",label:"Asie",keywords:["Chine","Japon","Cor\xe9e","Ta\xefwan","Asie"]},{id:"resources",label:"Ressources",keywords:["p\xe9trole","gaz","mati\xe8res premi\xe8res","minerais"]},{id:"regulation",label:"R\xe9gulation",keywords:["r\xe9gulation","lois","RGPD","antitrust","gouvernance"]}]},{id:"economics",name:"\xc9conomie",icon:"\uD83D\uDCC8",topics:[{id:"stocks",label:"Bourse",keywords:["CAC 40","Wall Street","bourse","actions"]},{id:"crypto",label:"Crypto",keywords:["Bitcoin","Ethereum","crypto","blockchain"]},{id:"macro",label:"Macro-\xe9conomie",keywords:["BCE","Fed","inflation","\xe9conomie mondiale"]}]},{id:"science",name:"Science",icon:"\uD83D\uDD2C",topics:[{id:"space",label:"Espace",keywords:["NASA","SpaceX","espace","Mars","fus\xe9e"]},{id:"health",label:"Sant\xe9",keywords:["sant\xe9","m\xe9decine","biotech","vaccin"]},{id:"energy",label:"\xc9nergie",keywords:["\xe9nergie","nucl\xe9aire","renouvelable","climat"]}]},{id:"culture",name:"Culture",icon:"\uD83C\uDFAC",topics:[{id:"cinema",label:"Cin\xe9ma & S\xe9ries",keywords:["cin\xe9ma","Netflix","films","s\xe9ries"]},{id:"gaming",label:"Gaming",keywords:["jeux vid\xe9o","PlayStation","Nintendo","gaming"]},{id:"lifestyle",label:"Lifestyle",keywords:["lifestyle","tendances","mode","design"]}]}];function p({initialTopics:e=[],plan:t="free"}){let[r,i]=(0,a.useState)(e),[p,f]=(0,a.useState)(m.map(e=>e.id)),[x,h]=(0,a.useState)(!1),g=(0,u.useRouter)(),y=(0,n.e)(),j="pro"===t?20:4,b=r.length>=j,v=e=>{f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},N=async(e,s)=>{let a=r.includes(e);if(!a&&b){c.Am.error(`Limite de ${j} th\xe8mes atteinte pour le plan ${t}`);return}h(!0);try{let{data:{user:t}}=await y.auth.getUser();if(!t)throw Error("Not authenticated");if(a){let{error:r}=await y.from("user_interests").delete().eq("user_id",t.id).eq("keyword",e);if(r)throw r;i(t=>t.filter(t=>t!==e)),c.Am.success(`"${s.label}" retir\xe9`)}else{let{error:r}=await y.from("user_interests").insert({user_id:t.id,keyword:e,display_name:s.label,search_keywords:s.keywords});if(r)throw r;i(t=>[...t,e]),c.Am.success(`"${s.label}" ajout\xe9`)}g.refresh()}catch(e){console.error("Failed to toggle topic:",e),c.Am.error("\xc9chec de la mise \xe0 jour")}finally{h(!1)}};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-display text-lg font-medium",children:"Vos Th\xe8mes"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["S\xe9lectionnez jusqu'\xe0 ",j," th\xe8mes pour votre podcast"]})]}),(0,s.jsxs)("div",{className:`px-3 py-1 rounded-full text-sm font-display font-medium ${b?"bg-amber-500/10 text-amber-600 dark:text-amber-400":"bg-charcoal/10 dark:bg-cream/10 text-foreground"}`,children:[r.length,"/",j]})]}),s.jsx("div",{className:"space-y-3",children:m.map(e=>{let t=p.includes(e.id),a=e.topics.filter(e=>r.includes(e.id)).length;return(0,s.jsxs)("div",{className:"rounded-2xl border border-border/50 overflow-hidden bg-card/50",children:[(0,s.jsxs)("button",{onClick:()=>v(e.id),className:"w-full flex items-center justify-between p-4 hover:bg-secondary/30 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl opacity-75 grayscale-[30%] sepia-[30%]",children:e.icon}),s.jsx("span",{className:"font-display font-medium",children:e.name}),a>0&&s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-charcoal dark:bg-cream text-cream dark:text-charcoal text-xs font-display font-medium",children:a})]}),s.jsx(Object(function(){var e=Error("Cannot find module 'framer-motion'");throw e.code="MODULE_NOT_FOUND",e}()).div,{animate:{rotate:t?180:0},transition:{duration:.2},children:s.jsx(l,{className:"w-5 h-5 text-muted-foreground"})})]}),s.jsx(Object(function(){var e=Error("Cannot find module 'framer-motion'");throw e.code="MODULE_NOT_FOUND",e}()),{children:t&&s.jsx(Object(function(){var e=Error("Cannot find module 'framer-motion'");throw e.code="MODULE_NOT_FOUND",e}()).div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsx("div",{className:"px-4 pb-4 space-y-2",children:e.topics.map(e=>{let t=r.includes(e.id),a=!t&&b;return(0,s.jsxs)(Object(function(){var e=Error("Cannot find module 'framer-motion'");throw e.code="MODULE_NOT_FOUND",e}()).button,{onClick:()=>N(e.id,e),disabled:x||a,className:`w-full flex items-center justify-between p-3 rounded-xl transition-all ${t?"bg-charcoal dark:bg-cream text-cream dark:text-charcoal glow-charcoal":a?"bg-secondary/30 opacity-50 cursor-not-allowed":"bg-secondary/50 hover:bg-secondary border border-transparent"}`,whileHover:a?{}:{scale:1.01},whileTap:a?{}:{scale:.99},children:[s.jsx("span",{className:`text-sm font-display ${t?"font-semibold":"font-medium"}`,children:e.label}),(0,s.jsxs)("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${t?"border-cream dark:border-charcoal bg-brass":a?"border-muted-foreground/20":"border-muted-foreground/40"}`,children:[t&&s.jsx(o.Z,{className:"w-3 h-3 text-charcoal"}),a&&!t&&s.jsx(d,{className:"w-2.5 h-2.5 text-muted-foreground/40"})]})]},e.id)})})})})]},e.id)})}),b&&"free"===t&&s.jsx(Object(function(){var e=Error("Cannot find module 'framer-motion'");throw e.code="MODULE_NOT_FOUND",e}()).div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-amber-500/10 border border-amber-500/20",children:(0,s.jsxs)("p",{className:"text-sm text-amber-600 dark:text-amber-400 font-display",children:[s.jsx(d,{className:"w-4 h-4 inline mr-2"}),"Limite de ",j," th\xe8mes atteinte. Passez au plan Pro pour plus de th\xe8mes."]})})]})}},7299:(e,t,r)=>{"use strict";r.d(t,{_:()=>c});var s=r(326),a=r(7577),n=r(5226),i=a.forwardRef((e,t)=>(0,s.jsx)(n.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=r(9360),o=r(1223);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...t},r)=>s.jsx(i,{ref:r,className:(0,o.cn)(d(),e),...t}));c.displayName=i.displayName},4625:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,dynamic:()=>l});var s=r(9510),a=r(5655),n=r(8585),i=r(1027);let l="force-dynamic";async function o({children:e}){let t=await (0,a.e)(),{data:{user:r}}=await t.auth.getUser();r||(0,n.redirect)("/login");let{data:l}=await t.from("users").select("*").eq("id",r.id).single();return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[s.jsx(i.T,{user:r,profile:l}),s.jsx("main",{className:"pt-20 pb-12 px-6",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:e})})]})}},9245:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b,dynamic:()=>j});var s=r(9510),a=r(5655),n=r(8585),i=r(3804),l=r(8266),o=r(7162);let d=(0,o.Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),c=(0,o.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var u=r(4120);let m=(0,o.Z)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var p=r(3297),f=r(8570);let x=(0,f.createProxy)(String.raw`/workspaces/podcast-summarizer/src/components/settings/profile-form.tsx#ProfileForm`);(0,f.createProxy)(String.raw`/workspaces/podcast-summarizer/src/components/settings/topic-picker.tsx#TOPIC_CATEGORIES`);let h=(0,f.createProxy)(String.raw`/workspaces/podcast-summarizer/src/components/settings/topic-picker.tsx#TopicPicker`),g=(0,f.createProxy)(String.raw`/workspaces/podcast-summarizer/src/components/settings/danger-zone.tsx#DangerZone`);var y=r(7420);!function(){var e=Error("Cannot find module '@/components/settings/format-toggle'");throw e.code="MODULE_NOT_FOUND",e}();let j="force-dynamic";async function b(){let e=await (0,a.e)(),{data:{user:t}}=await e.auth.getUser();t||(0,n.redirect)("/login");let{data:r}=await e.from("users").select("*").eq("id",t.id).single(),{data:o}=await e.from("user_interests").select("keyword").eq("user_id",t.id),f=o?.map(e=>e.keyword)||[];r?.settings;let j=process.env.NEXT_PUBLIC_APP_URL||"https://singular.daily";return(0,s.jsxs)("div",{className:"max-w-2xl space-y-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-2xl bg-card border border-brass/20 flex items-center justify-center glow-brass",children:s.jsx(d,{className:"w-6 h-6 text-sand"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"font-display text-3xl font-semibold tracking-tight",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground font-body",children:"Customize your Keernel experience"})]})]}),(0,s.jsxs)(i.Zb,{className:"matte-card border-0",children:[s.jsx(i.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-card border border-brass/20 flex items-center justify-center",children:s.jsx(c,{className:"w-5 h-5 text-sand"})}),(0,s.jsxs)("div",{children:[s.jsx(i.ll,{className:"text-lg font-display",children:"Your Profile"}),s.jsx(i.SZ,{children:"Personalize your podcast greeting"})]})]})}),s.jsx(i.aY,{className:"space-y-6",children:s.jsx(x,{email:t.email||"",firstName:r?.first_name||"",lastName:r?.last_name||"",memberSince:r?.created_at,plan:r?.subscription_status||"free",includeInternational:r?.include_international||!1})})]}),(0,s.jsxs)(i.Zb,{className:"matte-card border-0",children:[s.jsx(i.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-card border border-brass/20 flex items-center justify-center",children:s.jsx(u.Z,{className:"w-5 h-5 text-sand"})}),(0,s.jsxs)("div",{children:[s.jsx(i.ll,{className:"text-lg font-display",children:"Format"}),s.jsx(i.SZ,{children:"Choisissez la dur\xe9e de votre briefing"})]})]})}),s.jsx(i.aY,{children:s.jsx(Object(function(){var e=Error("Cannot find module '@/components/settings/format-toggle'");throw e.code="MODULE_NOT_FOUND",e}()),{initialFormat:r?.preferred_format||"digest"})})]}),(0,s.jsxs)(i.Zb,{className:"matte-card border-0",children:[s.jsx(i.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-card border border-brass/20 flex items-center justify-center",children:s.jsx(m,{className:"w-5 h-5 text-sand"})}),(0,s.jsxs)("div",{children:[s.jsx(i.ll,{className:"text-lg font-display",children:"Topics"}),s.jsx(i.SZ,{children:"Choose your news categories"})]})]})}),s.jsx(i.aY,{children:s.jsx(h,{initialTopics:f,plan:r?.subscription_status||"free"})})]}),(0,s.jsxs)(i.Zb,{className:"matte-card border-0",children:[s.jsx(i.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-card border border-brass/20 flex items-center justify-center",children:s.jsx(p.Z,{className:"w-5 h-5 text-sand"})}),(0,s.jsxs)("div",{children:[s.jsx(i.ll,{className:"text-lg font-display",children:"Podcast Feed"}),s.jsx(i.SZ,{children:"Subscribe in your favorite podcast app"})]})]})}),s.jsx(i.aY,{children:s.jsx(y.h,{feedUrl:`${j}/api/feed/${r?.rss_token}`})})]}),s.jsx(l.Z,{}),s.jsx(g,{})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,316,65,434,355,980,233,607],()=>r(3510));module.exports=s})();